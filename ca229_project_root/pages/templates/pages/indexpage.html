{% extends "index.html" %}
{% block title %}
    {{ title }}
{% endblock title %}

{% block navbar %}
    {% for page in page_list %}
        <li><a href="{{ page.permalink }}">{{ page.title }}</a></li>
    {% endfor %}
{% endblock navbar %}

{% block main_content %}
        <h1>Welcome to the FitChallenge {{ title }} page.</h1>
        {% autoescape off %}
        <p>{{ content }}</p>
        {% endautoescape %}
        <br>
        <br>
        <div class="daily-challenge">
            <p>Daily Challenge</p>
            <p>{{ daily }}</p>
            {% if joined %}
                <button class="joined" disabled>Joined</button>
            {% else %}
                <button class="join-button">Join</button>
            {% endif %}
        </div>
        <script>
			document.addEventListener("DOMContentLoaded", function () {
				document.getElementById("joinButton").addEventListener("click", function () {
					var button = document.getElementById("joinButton");
					if (button.innerHTML === "Join") {
						button.innerHTML = "Joined";
						button.classList.add("joined");
						button.disabled = true;
						alert("You have joined this event!");
					}
				});
			});
		</script>
{% endblock main_content %}